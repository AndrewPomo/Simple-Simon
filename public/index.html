<!DOCTYPE html>
<html>
<head>
	<title>Simple Simon!</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>
	<style type="text/css">
	body {
		font-family: Open Sans;
	}
	.gameArea {
		width:200px;
		margin-top:30px;
	}
	.gameBtn {
		height:100px;
		width:100px;
		float:left;
	}

	.startBtn {
		margin-top:5px;
	}

	#blue, #red, #yellow, #green {
		opacity:.5;
	}

	#blue:active, #red:active, #yellow:active, #green:active {
		opacity:1;
	}

	#blue	{
		background-color: #1e90ff ;
		border-radius: 100px 0 0 0;
	    -moz-border-radius: 100px 0 0 0;
	    -webkit-border-radius: 100px 0 0 0;
	}

	#yellow	{
		background-color: #FEEF33;
		border-radius: -100px 0 0 100px;
	    -moz-border-radius: 0 0 0 100px;
	    -webkit-border-radius: 0 0 0 100px;
	}

	#red	{
		background-color: #FF5643;
		border-radius: 0 100px 0 0;
	    -moz-border-radius: 0 100px 0 0;
	    -webkit-border-radius: 0 100px 0 0;
	}

	#green	{
		background-color: #BEDE15;
		border-radius: 0 0 100px 0;
	    -moz-border-radius: 0 0 100px 0;
	    -webkit-border-radius: 0 0 100px 0;
	}

	.roundNum {
		border:none;
		margin-top:15px;
		font-size: 20px;
		font-weight: bold;

	}

	button	{
		border:none;
	}
	button:focus {
    background-color: none;
    outline: 0;
    -webkit-box-shadow: none;
          box-shadow: none;
}


	</style>
</head>
<body>
	<audio id="bigSwitch">
			<source src="/Sounds/bigSwitch.wav" type="audio/wav">
	</audio>
	<div class="container">
		<div class="gameArea center-block">
			<div class="row center-block">
				<button id="blue" class="gameBtn"></button>
				<button id="red" class="gameBtn"></button>
			</div>
			<div class="row center-block">
				<button id="yellow" class="gameBtn"></button>
				<button id="green" class="gameBtn"></button>
			</div>
		</div>
		<div class="container menu">
			<input class="roundNum center-block text-center">
	    	<button id="start" class="startBtn center-block">Click to start!</button>
	    </div>
	</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
<script>
"use strict";
(function() {
    $(document).ready(function() {

    	// user pushes start - DONE
    	// color is randomly selected, inserted into end of solution array - DONE
    	// solution array is shown
    	// user clicks correct color
    	// color is randomly selected, inserted into end of solution array
    	// solution array is shown

    	//available colors
	    var colors = ['red', 'yellow', 'green', 'blue'];

	    //selects a random color
	    var color = colors[Math.floor(Math.random()*colors.length)];
		
		//holds correct color sequence
	    var solution = []

	    //refers to index of solution array
	    var index = 0

	    function showSolution(value) {
	    	switch (value) {
				case "red":
	                $('#red').animate ({
	                    'opacity' : 1
	                }, 750);
					$('#red').animate ({
	                    'opacity' : '.6'
	                }, 500);
					break;
				case "yellow":
					$('#yellow').animate ({
	                    'opacity' : 1
	                }, 750);
					$('#yellow').animate ({
	                    'opacity' : '.6'
	                }, 500);
					break;
				case "green":
					$('#green').animate ({
	                    'opacity' : 1
	                }, 750);
					$('#green').animate ({
	                    'opacity' : '.6'
	                }, 500);
					break;
				case "blue":
					$('#blue').animate ({
	                    'opacity' : 1
	                }, 750);
					$('#blue').animate ({
	                    'opacity' : '.6'
	                }, 500);
					break;
			};
			index = 0;
	    };

	    function showFirstColor() {
	    	switch (color) {
				case "red":
	                $('#red').animate ({
	                    'backgroundColor' : 'rgb(255,86,67)'
	                }, 750);
					$('#red').animate ({
	                    'backgroundColor' : 'rgb(254,156,142)'
	                }, 500);
	                solution.push(color);
	                console.log(solution);
					break;
				case "yellow":
					$('#yellow').animate ({
	                    'backgroundColor' : 'rgb(254,239,51)'
	                }, 750);
					$('#yellow').animate ({
	                    'backgroundColor' : 'rgb(255,245,123)'
	                }, 500);
	                solution.push(color);
	                console.log(solution);
					break;
				case "green":
					$('#green').animate ({
	                    'backgroundColor' : 'rgb(190,222,21)'
	                }, 750);
					$('#green').animate ({
	                    'backgroundColor' : 'rgb(220,235,102)'
	                }, 500);
	                solution.push(color);
	                console.log(solution);
					break;
				case "blue":
					$('#blue').animate ({
	                    'backgroundColor' : 'rgb(30,144,255)'
	                }, 750);
					$('#blue').animate ({
	                    'backgroundColor' : 'rgb(116,189,255)'
	                }, 500);
	                solution.push(color);
	                console.log(solution);
					break;
			}
		};

	    // the game
	    $('.startBtn').click(function(event) {
	    	$('#start').hide();
	    	$('#start').html('Try again!');
	    	$('.roundNum').show();
	    	$('.roundNum').val('Round ' + (index + 1));
	    	$('#bigSwitch').get(0).play();
	    	$('body').css ({
	    		'background-color' : 'black'
	    	})
	    	$('.gameBtn').css({
	    		opacity : 0
	    	})
   			setTimeout(showFirstColor, 3000);
		    //gets id of clicked on button
		    $('.gameBtn').mouseup(function(event) {
				$(this).css ({
                    'opacity' : '.6'
                }, 500);
			});
		    $('.gameBtn').mousedown(function(event) {
		    	$(this).css ({
	                    'opacity' : 1
	                }, 750);
	   			var userInput = $(this).attr('id');
	   			console.log(userInput);
	   			if ( userInput == solution[index] ) {
	   				console.log("That's right!");
	   				index++;
	        		if (index == solution.length) {
	        			$('.roundNum').val('Round ' + (index + 1));
	        			var newColor = colors[Math.floor(Math.random()*colors.length)];
		    			console.log(newColor);
	        			solution.push(newColor);
	        			console.log(solution);
	        			var showIndex = 0
	        			var interval = setInterval(function(){
	        				showSolution(solution[showIndex]);
	        					showIndex++;
	        					if (showIndex >= solution.length){
	        						clearInterval(interval);
	        					}
    					}, 1500);        				
	        		};
	   			} else {
		        	console.log("WRONG!");
	        		// displayString = "";
		   			// var wrongString = "WRONG!"
					// $('.codeEntry').val( wrongString );
		        	index = 0;
		        	solution = [];
		        	$('#start').show();
		        	console.log(solution);
        		};
	   		});
		});

	    
	    

	    
     })
})();

</script>
</body>
</html>